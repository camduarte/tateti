(function(){const e=document.getElementById("pizarra");const y=e.getContext("2d");const v="rgb(208, 122, 0)";const m="rgb(76, 78, 74)";const l=15;const D=91;const k=115;const B=91;const j=213;const z=91;const x=10;const i=191;const w=108;const h=191;const u=208;const g=191;const b=2;const s=291;const a=102;const r=291;const F=200;const q=291;const C="X";const A="O";let juegoActivo=false;let turno=C;let tateti;function p(){switch(turno){case C:turno=A;break;case A:turno=C;break;default:console.log("Esto no deberÃ­a ocurrir.");break}}function E(){let hayGanador=false;if(tateti[0][0]!=undefined&&tateti[0][0]===tateti[0][1]&&tateti[0][0]===tateti[0][2]){hayGanador=true;d(0,50,300,50)}else{if(tateti[1][0]!=undefined&&tateti[1][0]===tateti[1][1]&&tateti[1][0]===tateti[1][2]){hayGanador=true;d(0,150,300,150)}else{if(tateti[2][0]!=undefined&&tateti[2][0]===tateti[2][1]&&tateti[2][0]===tateti[2][2]){hayGanador=true;d(0,250,300,250)}else{if(tateti[0][0]!=undefined&&tateti[0][0]===tateti[1][0]&&tateti[0][0]===tateti[2][0]){hayGanador=true;d(50,0,30,300)}else{if(tateti[0][1]!=undefined&&tateti[0][1]===tateti[1][1]&&tateti[0][1]===tateti[2][1]){hayGanador=true;d(150,0,130,300)}else{if(tateti[0][2]!=undefined&&tateti[0][2]===tateti[1][2]&&tateti[0][2]===tateti[2][2]){hayGanador=true;d(250,0,230,300)}else{if(tateti[0][0]!=undefined&&tateti[0][0]===tateti[1][1]&&tateti[0][0]===tateti[2][2]){hayGanador=true;d(0,0,300,300)}else{if(tateti[0][2]!=undefined&&tateti[0][2]===tateti[1][1]&&tateti[0][2]===tateti[2][0]){hayGanador=true;d(300,0,0,300)}}}}}}}}if(hayGanador){juegoActivo=false}else{p()}}function c(){y.strokeStyle=v;y.lineWidth=8;y.beginPath();y.moveTo(100,0);y.lineTo(80,300);y.moveTo(200,0);y.lineTo(180,300);y.moveTo(0,100);y.lineTo(300,100);y.moveTo(0,200);y.lineTo(300,200);y.stroke()}function d(H,J,I,G){y.strokeStyle=m;y.lineWidth=5;y.beginPath();y.moveTo(H,J);y.lineTo(I,G);y.stroke()}function t(G,H){y.fillStyle=v;y.font="75px 'Press Start 2P', cursive";if(G>0&&G<100&&H>0&&H<100&&tateti[0][0]==undefined){tateti[0][0]=turno;y.fillText(turno,l,D);E()}else{if(G>100&&G<200&&H>0&&H<100&&tateti[0][1]==undefined){tateti[0][1]=turno;y.fillText(turno,k,B);E()}else{if(G>200&&G<300&&H>0&&H<100&&tateti[0][2]==undefined){tateti[0][2]=turno;y.fillText(turno,j,z);E()}else{if(G>0&&G<100&&H>100&&H<200&&tateti[1][0]==undefined){tateti[1][0]=turno;y.fillText(turno,x,i);E()}else{if(G>100&&G<200&&H>100&&H<200&&tateti[1][1]==undefined){tateti[1][1]=turno;y.fillText(turno,w,h);E()}else{if(G>200&&G<300&&H>100&&H<200&&tateti[1][2]==undefined){tateti[1][2]=turno;y.fillText(turno,u,g);E()}else{if(G>0&&G<100&&H>200&&H<300&&tateti[2][0]==undefined){tateti[2][0]=turno;y.fillText(turno,b,s);E()}else{if(G>100&&G<200&&H>200&&H<300&&tateti[2][1]==undefined){tateti[2][1]=turno;y.fillText(turno,a,r);E()}else{if(G>200&&G<300&&H>200&&H<300&&tateti[2][2]==undefined){tateti[2][2]=turno;y.fillText(turno,F,q);E()}}}}}}}}}}function n(){tateti=new Array(3);tateti[0]=new Array(3);tateti[1]=new Array(3);tateti[2]=new Array(3);c();juegoActivo=true}function f(){y.clearRect(0,0,e.width,e.height);n()}n();e.addEventListener("click",function(I){if(juegoActivo){const H=e.getBoundingClientRect();const G=I.clientX-H.left;const J=I.clientY-H.top;t(G,J)}});const o=document.getElementById("btn-nuevo-juego");o.addEventListener("click",function(){f()})})();